/* SkinAccordion.module.scss */
$design-w: 430;

/* container-query width helper (na bazi stranice 430) */
@function cqw($px, $base: $design-w) {
  @return calc((#{$px} / #{$base}) * 100cqw);
}

/* font helper (ako zatreba kasnije) */
@function fsz($n, $minFactor: .85) {
  @return clamp(#{$n * $minFactor}px, cqw(#{$n}), #{$n}px);
}

/* ———————————————————
   BASE: 430 × 60
   ——————————————————— */
.container {
  inline-size: 100%;               /* stane u širinu stranice (max 430) */
  block-size: min(cqw(60), 60px);
  display: flex;
  background: #ececec;
  backdrop-filter: blur(cqw(4));
  box-shadow: 0 cqw(4) cqw(10) rgba(0, 0, 0, 0.25);
  overflow: hidden;
}

/* Lijevi dio: 240 × 60 s dividerom */
.left {
  inline-size: min(cqw(240), 240px);
  block-size: min(cqw(60), 60px);
  display: flex;
  justify-content: center;
  align-items: center;
  border-right: cqw(1.5) solid #000; /* skalirani divider */
  background: transparent;
  cursor: pointer;
}

/* Desni dio: 180 × 60 */
.right {
  inline-size: min(cqw(180), 180px);
  block-size: min(cqw(60), 60px);
  display: flex;
  justify-content: center;
  align-items: center;
  background: transparent;
  border: none;
  cursor: pointer;
}

/* Skup s tri ikone (u lijevom dijelu) */
.group {
  inline-size: min(cqw(220), 220px);
  block-size: min(cqw(45), 45px);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.arrow {
  inline-size: min(cqw(20), 20px);
  block-size: min(cqw(20), 20px);
  border: none;
  background: transparent;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.arrow img {
  inline-size: 100%;
  block-size: 100%;
  object-fit: contain;
  display: block;
}

.iconsThree {
  display: flex;
  align-items: center;
  gap: cqw(10);
}

.iconBtn {
  border: none;
  background: transparent;
  padding: 0;
  cursor: pointer;
}

.iconLarge { inline-size: min(cqw(45), 45px); block-size: min(cqw(45), 45px); }
.iconSmall { inline-size: min(cqw(35), 35px); block-size: min(cqw(35), 35px); }

.iconOne {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Desni sadržaj (slider + frameovi) */
.rightContent {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: cqw(2);
  user-select: none;
}

/* Tone bar grupa: 130×25 (default) */
.toneBarGroup {
  inline-size: min(cqw(130), 130px);
  block-size: min(cqw(25), 25px);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Bar: 130×10, “stroke” iznutra */
.toneBar {
  position: relative;
  inline-size: min(cqw(130), 130px);
  block-size: min(cqw(10), 10px);
  background: transparent;
  border-radius: min(cqw(10), 10px);
  box-shadow: inset 0 0 0 min(cqw(1.5), 1.5px) #000; /* 1.5px skalirano */
  touch-action: none;
}

/* Thumb: 25×25, centriran na baru */
.thumb {
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  inline-size: min(cqw(25), 25px);
  block-size: min(cqw(25), 25px);
  border-radius: 50%;
  background: transparent;
  border: none;
  cursor: grab;
  background-image: url('../../assets/skinbarbtn.svg');
  background-repeat: no-repeat;
  background-size: contain;
  background-position: center;
  touch-action: none;
}
.thumb:active { cursor: grabbing; }

/* Frameovi ispod: 143×13, kolone: 13 | 1fr | 13 */
.frames {
  inline-size: min(cqw(143), 143px);
  block-size: min(cqw(13), 13px);
  display: grid;
  grid-template-columns: min(cqw(13), 13px) 1fr min(cqw(13), 13px);
  align-items: center;
}

.frameB,
.frameG,
.frameW {
  inline-size: min(cqw(13), 13px);
  block-size: min(cqw(13), 13px);
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}
.frameB { background-image: url('../../assets/skin-frame-b.svg'); }
.frameG { background-image: url('../../assets/skin-frame-g.svg'); justify-self: center; }
.frameW { background-image: url('../../assets/skin-frame-w.svg'); justify-self: end; }

.frameTop,
.frameBottom {
  display: none;
}


/* ———————————————————
   EXPANDED RIGHT: lijevi dio nestaje, desni preuzima 430×60,
   šire klizalo (350×10) i frames (363 širine)
   ——————————————————— */
.expandedRight {
  .left { display: none; }

  .right {
    inline-size: 100%; /* zauzmi cijeli akordeon */
  }

  .rightContent {
    inline-size: 100%;
    align-items: center;
    justify-content: center;
  }

  .toneBarGroup {
    inline-size: min(cqw(350), 350px);
    block-size: min(cqw(25), 25px);
  }

  .toneBar {
    inline-size: min(cqw(350), 350px);
    block-size: min(cqw(10), 10px);
  }

  .frames {
    inline-size: min(cqw(363), 363px);                 /* 350 + 13 */
    grid-template-columns: min(cqw(13), 13px) 1fr min(cqw(13), 13px);
  }
}

@media (min-width: 431px) and (max-width: 1023px) {
  .container {
    inline-size: var(--page-w-px, 100%);
    max-inline-size: 100%;
  }

  .left,
  .right {
    flex: 1 1 50%;
    inline-size: auto;
    min-inline-size: 0;
    justify-content: center;
  }

  .group,
  .rightContent {
    margin: 0 auto;
  }
}


@media (min-width: 1024px) {
  .container {
    inline-size: 117px;
    block-size: 953px;
    flex-direction: column;
    justify-content: flex-start;
    align-items: stretch;
    margin: 0;
    align-self: flex-start;
    padding: 0;
    box-shadow: none;
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    gap: 0;
    overflow: hidden;
  }

  .left {
    inline-size: 100%;
    block-size: 364px;
    border-right: none;
    border-bottom: 1px solid #000;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding-block: 32.81px;
  }

  .left p { display: none; }

  .group {
    inline-size: 55px;
    block-size: 281px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
  }

  .iconsThree {
    flex-direction: column;
    gap: 24px;
  }

  .iconLarge {
    inline-size: 55px;
    block-size: 55px;
  }

  .iconSmall {
    inline-size: 45px;
    block-size: 45px;
  }

  .arrow {
    inline-size: 24px;
    block-size: 32.81px;
  }

  .group .arrow:first-of-type img, .group .arrow:last-of-type img { transform: rotate(90deg); }

  .right {
    inline-size: 100%;
    block-size: 589px;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
  }

  .rightContent {
    inline-size: 46.15px;
    block-size: 504px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    padding: 0;
    gap: 0;
  }

  .frameTop,
  .frameBottom {
    display: block;
    inline-size: 20px;
    block-size: 26px;
    background-size: 100% 100%;
    background-repeat: no-repeat;
    background-position: center;
    padding-block: 44px;
  }

  .frameTop { background-image: url('../../assets/skin-frame-w.svg'); }
  .frameBottom { background-image: url('../../assets/skin-frame-b.svg'); }

  .frames {
    display: none;
  }

  .toneBarGroup {
    inline-size: 46.15px;
    block-size: 399px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
  }

  .toneBar {
    inline-size: 18.46px;
    block-size: 399px;
    border-radius: 18.46px;
    margin: 0 auto;
    background: transparent;
    border: 1.5px solid #000;
    box-shadow: none;
  }

  .thumb {
    inline-size: 46.15px;
    block-size: 46.15px;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .expandedRight {
    .left { display: none; }

    .right {
      inline-size: 100%;
      block-size: 953px;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding-top: 45px;
    }

    .rightContent {
      inline-size: 46.15px;
      block-size: 504px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      gap: 0;
    }

    .toneBarGroup {
      inline-size: 46.15px;
      block-size: 399px;
    }

    .toneBar {
      inline-size: 18.46px;
      block-size: 399px;
    }
  }
}
