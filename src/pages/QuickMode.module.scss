/* QuickMode.module.scss — MOBILE FIRST (430 baseline) */
@use '../styles' as s;

/* — helpers (430 baseline) — */
$design-w: 430;
@function cqw($px, $base: $design-w) { @return calc((#{$px}/#{$base}) * 100cqw); }
@function fsz($n, $min:.85) { @return clamp(#{$n*$min}px, cqw(#{$n}), #{$n}px); }

/* — page vars — */
/* :root{
  --page-max-width: 430px;
  --page-width: min(100%, var(--page-max-width));
}
 */
/* — PAGE WRAPPER — */
.quickmodePage{
  container-type: inline-size;
  width: 100%;
  max-width: var(--page-max-width);
  min-height: 100dvh;
  margin: 0 auto;
  display: flex;
  flex-direction: column;

  /* footer metrika */
  --footer-h: #{cqw(50)};    /* visina footera (50 @430) */
  --footer-gap: #{cqw(45)};  /* razmak od dna (45 @430) */
}

/* — HEADER override na ovoj stranici — */
.quickmodePage .appHeader{
  width: 100%;
  max-width: var(--page-max-width);
  height: cqw(101);              /* 101 @430 */
  padding-top: 0;
  padding-bottom: cqw(15);       /* baseline 15px do dna headera */
  border-bottom: 1px solid #000;
  box-sizing: border-box;
}
.quickmodePage {
  container-type: inline-size;
  width: 100%;
  max-width: 430px;
  min-height: 100dvh;
  margin: 0 auto;
  display: flex;
  flex-direction: column;

  --footer-h: #{cqw(50)};
  --footer-gap: #{cqw(45)};
}
/* — CANVAS: skrolani stupac sa “rezervom” za fixed footer — */
.canvas {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  min-height: 0;

  /* rezerviraj prostor = visina footera + razmak od dna + safe area */
  padding-bottom: calc(
    var(--footer-h, #{cqw(50)}) +
    var(--footer-gap, #{cqw(45)}) +
    env(safe-area-inset-bottom)
  );
}
.footerSlot {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: calc(env(safe-area-inset-bottom) + var(--footer-gap, #{cqw(45)}));
  width: #{cqw(320)};            /* 55px bočno → 320px u dizajnu 430 */
  height: var(--footer-h, #{cqw(50)});
  display: grid;
  place-items: center;
  z-index: 1000;

  /* spriječi da overlay blokira klikove izvan footera */
  pointer-events: none;
}
.footerSlot > *{
  pointer-events: auto;          /* ali Footer unutra je normalno klikabilan */
  width: 100%;                   /* da prati širinu slota */
}
/* — SECTION LABEL — */
.sectionLabel{

  width: 100%;
  text-align: center;
  color: #000;
  font-size: fsz(18);
  margin: 0;                     /* resetiraj */
}

/* prvi label 25px ispod headera */
.canvas > .sectionLabel:first-of-type{ margin-top: cqw(25); }
.quickmodeContent {
  margin-top: cqw(25);
}
/* label koji ide nakon bodyshapeRow: 30px ispod njega */
.bodyshapeRow + .sectionLabel{ margin-top: cqw(30); }
.quickmodeContent {
  padding: 0; /* kontroliramo točne razmake po elementima ispod */
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0;
}
/* — BODY SHAPE (70px bočni odmaci → 290 širina @430) — */
.bodyshapeRow{
  width: cqw(290);
  height: cqw(55);
  margin: cqw(25) auto cqw(30);        /* 30px ispod prvog labela */
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0;
  box-sizing: border-box;
}
.bodyshapeBtn{
  border: 2px solid transparent;
  padding: 0; background: none; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
}
.selected{ background:#000; border-color:#000 !important; }
.bodyshapeIcon{ width: 100%; height: 100%; object-fit: contain; display: block; }
.selectedIcon{ filter: brightness(0) invert(1); }

/* — ATHLETIC SLIDER (68px bočno → 294 širina @430) — */
.athleticSliderWrap{
  width: cqw(294);
  height: cqw(51);
  margin: cqw(22) auto 0;        /* 22px ispod drugog labela */
  display: flex; 
  flex-direction: column; 
  align-items: center; 
  justify-content: center;
}
.athleticSliderTrack{
  position: relative;
  width: cqw(257);
  height: cqw(9);
  margin: 0;
  cursor: pointer;
}
.athleticTrack{
  position: absolute; left: 0;
  top: cqw(12); width: 100%; height: cqw(9);
}
.athleticCircle{
  position: absolute; top: cqw(3);
  width: cqw(25); height: cqw(25);
  left: calc(var(--athletic-level, 1) * 50% - #{cqw(16)}); /* centrirano prema assetu */
  transition: left .2s;
  z-index: 2;
}
.level0{ --athletic-level: 0; }
.level1{ --athletic-level: 1; }
.level2{ --athletic-level: 2; }

.athleticIcons{
  width: 100%;
  margin-top: cqw(22);
  display: flex; align-items: center; justify-content: space-between;
}
.athleticIcon{ width: cqw(32); height: cqw(24); object-fit: contain; }

/* — MEASUREMENTS (55px bočno → 320 širina @430) — */
.sectionMeasurements{
  width: cqw(320);
  margin: cqw(30) auto 0;        /* 30px ispod slider wrap-a */
  display: flex; flex-direction: column; align-items: center; gap: cqw(10);
}

/* red mjere (label + select + unit) */
.measureRow{ width: cqw(320); height: cqw(40); display: flex; align-items: center; gap: 0; margin: 0 auto; }
.measureLabel{
  width: cqw(220); height: cqw(40);
  border: cqw(2) solid #000; background: #fff;
  display: flex; align-items: center; padding-inline-start: cqw(6.63);
  font-size: fsz(16); color: #000; box-sizing: border-box;
}
.measureSelect{
  width: cqw(60); height: cqw(40);
  border: cqw(2) solid #000; background: #fff;
  text-align: center; font-size: fsz(16); box-sizing: border-box; margin-left: cqw(10);
}
.measureUnit{
  width: cqw(27.77); height: cqw(40); margin-left: cqw(1);
  display: flex; align-items: center; justify-content: center;
  font-size: fsz(16); color: #000; border: none;
}

/* — FIXED FOOTER: 45px od dna, visina 50px, širina 320 — */
/* .footerActionsRow{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: calc(env(safe-area-inset-bottom) + var(--footer-gap));
  width: cqw(320);
  height: var(--footer-h);
  display: flex; align-items: center; justify-content: center; gap: cqw(10);
  z-index: 1000;
} */
.buttonBack{
  width: cqw(100); height: 100%;
  background: #fff; border: cqw(2) solid #000; color: #000;
  font-size: fsz(18); display: flex; align-items: center; justify-content: center; cursor: pointer;
}
.buttonPrimary{
  width: cqw(210); height: 100%;
  background: linear-gradient(to right, #2b214d, #13536c); color: #fff; border: none;
  font-size: fsz(18); display: flex; align-items: center; justify-content: center; cursor: pointer;
}
/* alternativno crni gumb */
.buttonBlack{
  width: cqw(210); height: 100%;
  background: #000; color: #fff; border: none;
  font-size: fsz(18); display: flex; align-items: center; justify-content: center; cursor: pointer;
}
