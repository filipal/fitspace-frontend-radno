/* QuickMode.module.scss — MOBILE FIRST (430 baseline) */
@use '../styles' as s;

/* — helpers (430 baseline) — */
$design-w: 430;
@function cqw($px, $base: $design-w) { @return calc((#{$px}/#{$base}) * 100cqw); }
@function fsz($n, $min:.85) { @return clamp(#{$n*$min}px, cqw(#{$n}), #{$n}px); }

/* — page vars — */
/* :root{
  --page-max-width: 430px;
  --page-width: min(100%, var(--page-max-width));
}
 */
/* — PAGE WRAPPER — */
.quickmodePage{
  container-type: inline-size;
  width: 100%;
  max-width: var(--page-max-width);
  min-height: 100dvh;
  margin: 0 auto;
  display: flex;
  flex-direction: column;

  /* footer metrika */
  --footer-h: #{cqw(50)};    /* visina footera (50 @430) */
  --footer-gap: #{cqw(45)};  /* razmak od dna (45 @430) */
}

/* — HEADER override na ovoj stranici — */
.quickmodePage .appHeader{
  width: 100%;
  max-width: var(--page-max-width);
  height: cqw(101);              /* 101 @430 */
  padding-top: 0;
  padding-bottom: cqw(15);       /* baseline 15px do dna headera */
  border-bottom: 1px solid #000;
  box-sizing: border-box;
}
.quickmodePage {
  container-type: inline-size;
  width: 100%;
  max-width: 430px;
  min-height: 100dvh;
  margin: 0 auto;
  display: flex;
  flex-direction: column;

  --footer-h: #{cqw(50)};
  --footer-gap: #{cqw(45)};
}
/* — CANVAS: skrolani stupac sa “rezervom” za fixed footer — */
.canvas {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  min-height: 0; /* flex child can shrink; footer uses margin-top:auto to push down */
}
.footerSlot {
  position: static;               /* u toku dokumenta – nije lebdeći */
  /* width: #{cqw(320)}; */             /* 55px bočno → 320px u dizajnu 430 */
  margin-left: #{cqw(55)}; margin-right: #{cqw(55)};
  height: var(--footer-h, #{cqw(50)});
  display: grid;
  place-items: center;
  margin-top: auto;               /* gurni na dno canvasa */
  margin-bottom: calc(var(--footer-gap, #{cqw(45)}) + env(safe-area-inset-bottom));
  z-index: 1;
}
.footerSlot > *{
  pointer-events: auto;
  width: 100%;                   /* da prati širinu slota */
}

/* — WEB (≥1024): footer nije lebdeći; stoji fiksno 400px ispod sadržaja — */
@media (min-width: 500px) {
  .footerSlot {
    position: static;
    left: auto;
    bottom: auto;
    transform: none;
    width: 100%;
    height: auto;
    margin-top: 400px;
    pointer-events: auto;
    /* centriraj u širini stranice */
    margin-left: auto;
    margin-right: auto;
    max-width: var(--page-max-width);
    display: flex;
    justify-content: center;
  }
  .footerSlot > * { width: auto; max-width: none; margin: 0; }
}
/* — SECTION LABEL — */
.sectionLabel{

  width: 100%;
  text-align: center;
  color: #000;
  font-size: fsz(18);
  margin: 0;                     /* resetiraj */
}

/* prvi label 25px ispod headera */
.canvas > .sectionLabel:first-of-type{ margin-top: cqw(25); }
.quickmodeContent {
  margin-top: cqw(25);
}
/* label koji ide nakon bodyshapeRow: 30px ispod njega */
.bodyshapeRow + .sectionLabel{ margin-top: cqw(30); }
.quickmodeContent {
  padding: 0; /* kontroliramo točne razmake po elementima ispod */
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0;
}
/* — BODY SHAPE (70px bočni odmaci → 290 širina @430) — */
.bodyshapeRow{
  width: cqw(290);
  height: cqw(55);
  margin: cqw(25) auto cqw(30);        /* 30px ispod prvog labela */
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0;
  box-sizing: border-box;
  /* spriječi da djeca ikad premaše visinu reda na manjim ekranima */
  overflow: hidden;
}
.bodyshapeBtn{
  border: 2px solid transparent;
  padding: 0; background: none; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  /* ključ: neka gumbi naslijede visinu reda i ne rastu više od nje */
  height: 100%;
  max-height: 100%;
  flex: 0 0 auto;
}
.selected{ background:#000; border-color:#000 !important; }
/* SVG ikone: visina 100%, širina auto (zadrži omjer) i ne prelazi red */
.bodyshapeIcon{ height: 100%; width: auto; max-width: 100%; object-fit: contain; display: block; }
/* Ako neki SVG ignorira class dimenzije, prisili i preko tag selektora */
.bodyshapeBtn svg{ height: 100% !important; width: auto !important; max-width: 100%; display: block; }
.selectedIcon{ filter: brightness(0) invert(1); }

/* — ATHLETIC SLIDER (68px bočno → 294 širina @430) — */
.athleticSliderWrap{
  width: cqw(294);
  height: cqw(51);
  margin: cqw(22) auto 0;        /* 22px ispod drugog labela */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;  /* razmak samo između tracka i ikona */
}
.athleticSliderTrack{
  position: relative;
  width: cqw(257);
  height: cqw(25);
  margin: 0;
  cursor: pointer;
}
.athleticTrack{
  position: absolute; left: 0; right: 0;
  top: 50%; transform: translateY(-50%);
  width: 100%; height: cqw(9);
}
.athleticCircle{
  position: absolute; top: 50%;
  width: cqw(25); height: cqw(25);
  left: calc(var(--athletic-level, 1) * 50%);
  transform: translate(-50%, -50%);
  transition: left .2s;
  z-index: 2;
}
.level0{ --athletic-level: 0; }
.level1{ --athletic-level: 1; }
.level2{ --athletic-level: 2; }

.athleticIcons{
  width: 100%;
  margin-top: 0;                  /* bez vanjskog razmaka; space-between rješava razmak */
  display: flex; align-items: center; justify-content: space-between;
}
.athleticIcon{ width: cqw(32); height: cqw(24); object-fit: contain; }

/* — MEASUREMENTS (55px bočno → 320 širina @430) — */
.sectionMeasurements{
  width: cqw(320);
  margin: cqw(30) auto 0;        /* 30px ispod slider wrap-a */
  display: flex; flex-direction: column; align-items: center; gap: cqw(10);
}

.errorMessage{
  margin: cqw(20) auto 0;
  max-width: cqw(320);
  color: #d32f2f;
  font-size: fsz(14);
  text-align: center;
}

/* red mjere (label + select + unit) */
.measureRow{ width: cqw(320); height: cqw(40); display: flex; align-items: center; gap: 0; margin: 0 auto; }
.measureLabel{
  width: cqw(220); height: cqw(40);
  border: cqw(2) solid #000; background: #fff;
  display: flex; align-items: center; padding-inline-start: cqw(6.63);
  font-size: fsz(16); color: #000; box-sizing: border-box;
}
.measureSelect{
  width: cqw(60); height: cqw(40);
  border: cqw(2) solid #000; background: #fff;
  text-align: center; font-size: fsz(16); box-sizing: border-box; margin-left: cqw(10);
  color: #000; /* boja odabrane vrijednosti */
  -webkit-text-fill-color: #000; /* iOS/Safari internal text fill */
  /* Zadrži iOS picker, ali bez zaobljenih rubova i native skina */
  -webkit-appearance: none;
  appearance: none;
  border-radius: 0;
  box-shadow: none;
  cursor: pointer;
}

/* Osiguraj da i options budu crne (fallback za neke UA stilove) */
.measureSelect option { color: #000; }
.measureUnit{
  width: cqw(27.77); height: cqw(40); margin-left: cqw(1);
  display: flex; align-items: center; justify-content: center;
  font-size: fsz(16); color: #000; border: none;
}

/* — FIXED FOOTER: 45px od dna, visina 50px, širina 320 — */
/* .footerActionsRow{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: calc(env(safe-area-inset-bottom) + var(--footer-gap));
  width: cqw(320);
  height: var(--footer-h);
  display: flex; align-items: center; justify-content: center; gap: cqw(10);
  z-index: 1000;
} */
.buttonBack{
  width: cqw(100); height: 100%;
  background: #fff; border: cqw(2) solid #000; color: #000;
  font-size: fsz(18); display: flex; align-items: center; justify-content: center; cursor: pointer;
}
.buttonPrimary{
  width: cqw(210); height: 100%;
  background: linear-gradient(to right, #2b214d, #13536c); color: #fff; border: none;
  font-size: fsz(18); display: flex; align-items: center; justify-content: center; cursor: pointer;
}
/* alternativno crni gumb */
.buttonBlack{
  width: cqw(210); height: 100%;
  background: #000; color: #fff; border: none;
  font-size: fsz(18); display: flex; align-items: center; justify-content: center; cursor: pointer;
}

@media (min-width: 800px) {
  .canvas { width: 420px;}
  .sectionLabel{
    font-size: 20px;
  }
  .bodyshapeRow {
    width: 417.64px;
    height: 79.64px;
    margin-top: 40px;
    margin-bottom: 40px;
  }
  .quickmodeContent { width: 420px; height: 498.57px; gap: auto; margin-top: 65px;}
  .athleticSliderWrap { width: 419px; height: 72.93px; }
  .athleticSliderTrack { width: 367.52px; height: 35.75px; }
  .athleticCircle { width: 35.75px; height: 35.75px; }
  .athleticTrack { width: 367.52px; height: 12.87px; }
  .athleticIcons { width: 419px; height: 30.03px; }
  .Thin { width: 51.48px; height: 7.15px; }
  .Normal { width: 52.91px; height: 20.02px; }
  .Muscular { width: 51.48px; height: 30.03px; }
  .sectionMeasurements { width: 420px; height: 160px; margin-top: 42px; gap: 20px; }
  .measureRow { width: 420px; height: 40px; }
  .measureLabel { width: 288.75px; height: 40px; }
  .measureSelect { width: 78.75px; height: 40px; }
  .measureUnit { width: 38.06px; height: 40px; }
}