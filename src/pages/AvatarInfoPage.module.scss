@use '../styles' as s;

/* Design dimenzije: iPhone 15 Pro (portret): 393×852 CSS px */
:root {
  --design-w: 393px;
  --design-h: 852px;
}

/* TEMP: disable full-screen canvas → allow natural flow+scroll */
.avatarInfoPage {
  position: relative;
  width: var(--page-width);
  min-height: auto;
  margin: 0 auto;
  overflow: visible;
  font-family: 'Inter', sans-serif;
}
.canvas > *:first-child { flex: 0 0 auto; }
/* Unutarnje "platno" koje se skalira da stane na ekran */
.canvas {
  position: static;
  width: 100%;
  min-height: var(--page-height);
  max-height: var(--page-height);
  transform: none;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  /* TEMP gutters: poravnaj sadržaj od ruba zaslona na mobitelu */
  padding-left: calc(16px + env(safe-area-inset-left));
  padding-right: calc(16px + env(safe-area-inset-right));
  padding-bottom: calc(20px + env(safe-area-inset-bottom));
}

/* ——— Form: name + gender ——— */
.avatarNameInput {
  width: 100%;
  max-width: 320px;
  height: 40px;
  margin: 0 auto;
  border: 2px solid #000;
  box-sizing: border-box;
  font-size: 16px;
  font-weight: 300;
  padding: 0 12px;
  background: #fff;
}

.genderChoice {
  width: 100%;
  max-width: 320px;
  margin: 0 auto;
  display: flex;
  gap: 20px;
}

.genderButton {
  flex: 1 1 0;
  height: 40px;
  border: 2px solid #000;
  box-sizing: border-box;
  background: #fff;
  color: #000;
  font-size: 18px;
  font-weight: 400;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}

.genderButtonSelected {
  background: #000;
  color: #fff;
  font-size: 18px;
  font-weight: 400;
}

/* ——— Picker common ——— */
.picker {
  width: 100%;
  max-width: 360px;
  min-width: 220px;
  margin-top: 2px;
  margin-bottom: 42px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.pickerLabel {
  font-size: 18px;
  font-weight: 300;
  color: #000;
  width: 100%;
  max-width: 320px;
  height: 13px;
  line-height: 100%;
  text-align: center;
  margin-bottom: 20px;
}

/* [←] [TRACK] [→] */
.pickerControl {
  display: grid;
  grid-template-columns: 20px minmax(0, 1fr) 20px;
  align-items: center;
  width: 100%;
  max-width: 360px;
  margin-inline: auto;
  padding: 0;
}

.arrowButton {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 31px;
}

.arrowButton img {
  width: 20px;
  height: 31px;
  display: block;
}

/* Track holder*/
.pickerValues {
  justify-self: center;
  min-width: 0;
}

/* ——— zajedničko za sve vrijednosti ——— */
.pickerValue {
  display: inline-block;
  white-space: nowrap;
  text-align: center;

  /* stabilna širina znamenki (sprječava skokove 1↔8) */
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum" 1, "lnum" 1; /* neki fontovi to traže eksplicitno */
}

/* ghost zauzima prostor, ali je nevidljiv — koristi se na rubovima niza */
.ghost {
  visibility: hidden;
  pointer-events: none;
}

/* ——— AGE varijanta (1 side lijevo + 1 desno) ——— */
.pickerAge {
  .pickerValues {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    height: 26px;
    width: 100%;
    max-width: 264px;
  }

  .pickerValue {
    font-size: 16px;
    line-height: 26px;
    min-width: max(56px, 6ch);
    text-align: center;
    white-space: nowrap;
  }

  .side:first-of-type { justify-self: start; text-align: center; }
  .side:last-of-type  { justify-self: end;   text-align: center; }

  .side {
    color: #000;
    font-size: 20px;
    font-weight: 600;
    opacity: 0.4;
    min-width: 61px;
    line-height: 26px; /* poravnaj vertikalno s trakom */
  }

  .selected {
    font-size: 35px;
    font-weight: 600;
    line-height: 26px;
    justify-self: center;
    min-width: 111px;
    height: 26px;
    color: #000;
  }
}
.pickerNumber:last-of-type {
  margin-bottom: 40px;
}
/* ——— NUMBER varijanta (Height/Weight: L2 L1 C R1 R2) ——— */
.pickerNumber {
  .pickerValues {
    /* fiksne širine elemenata + jednak gap → centar miruje */
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    height: 26px;
    width: 264px;      /* po potrebi prilagodi */
  }

  .pickerValue {
    font-variant-numeric: tabular-nums; /* spriječi skokove širina 1↔8 */
    line-height: 26px;
    text-align: center;
    white-space: nowrap;
  }

  /* fiksne širine po ulogama */
  .sideOuter  { flex: 0 0 29px; font-size: 18px; font-weight: 600; opacity: .2; color: #000; }
  .sideInner  { flex: 0 0 40px; font-size: 25px; font-weight: 600; opacity: .4; color: #000; }
  .selected   { flex: 0 0 100px; font-size: 40px; font-weight: 600; color: #000; }
}

/* ——— Ostalo ——— */
.pickersGroup {
  width: min(100%, 360px);
  margin-inline: auto;
}

.howText {
  width: 100%;
  max-width: 320px;
  margin-inline: auto;
  margin-bottom: 20px;
  font-size: 17px;
  font-weight: 300;
  text-align: center;
  color: #000;
  font-weight: 300;
  white-space: nowrap;
}

.scanButton, .quickButton {
  width: 100%;
  max-width: 320px;
  height: 50px;
  font-size: 18px;
  display: flex;
  align-items: center;
  background: linear-gradient(to right, #2b214d, #13536c) !important;
  justify-content: center;
  border: none !important;
  color: #fff !important;
  padding: 0;
}

.scanDesc, .quickDesc {
  font-size: 12px;
  font-weight: 300;
  color: #000;
  text-align: center;
  margin-bottom: 18px;
  margin-top: 15px;
  width: 100%;
  max-width: 320px;
  height: 30px;
  line-height: 100%;
  font-weight: 300;
}

/* Mobile: zadrži u jednom retku; Desktop: dopusti prijelom na <br> */
.scanDesc br { display: none; }
@media (min-width: 1024px) {
  .scanDesc br { display: inline; }
}

.quickDesc {
  margin-bottom: 20px;
  font-size: 11.8px;
}
.buttonIcon { width: 21px; height: 21px; margin-right: 8px; }
.buttonIcon1 { width: 25px; height: 20px; margin-right: 8px; }

.backButtonAvatarinfo {
  width: 100%;
  max-width: 320px;
  height: 50px;
  border: 2px solid #000;
  background: #fff;
  color: #000;
  font-size: 18px;
  cursor: pointer;
  /* margin-bottom: calc(24px + env(safe-area-inset-bottom)); */
}
.actionsGrid {
  width: min(100%, 320px);
  margin-inline: auto;
}
/* Sekcija iznad panela */
.formSection {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-top: 25px;
  margin-bottom: 34px;
}

/* Panel (mob: 100%, web: po želji šire) */
.webPanel {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: var(--page-max-width);
}

@media (max-width: 400px) {
  .webPanel {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: var(--page-max-width);
  }
  .pickerValues {
    width: calc(100% - 30px); /* 360 - 16 - 16 */
    margin: 0 14px;           /* osiguraj da kreće odmah do strelica */
    gap: 8px;                 /* malo manji razmak na uskim ekranima */
  }
  .pickersGroup {
    width: min(100%, 329px);
    margin-inline: auto;
  }
  .formSection {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 18.3px;
    margin-top: 22.9px;
    margin-bottom: 31px;
  }
  .avatarNameInput {
    width: 100%;
    max-width: 292.5px;
    height: 36.6px;
    margin: 0 auto;
    border: 2px solid #000;
    box-sizing: border-box;
    font-size: 16px;
    font-weight: 300;
    padding: 0 11px;
    background: #fff;
  }
  .genderChoice {
    width: 100%;
    max-width: 292.5px;
    height: 36.6px;
    margin: 0 auto;
    display: flex;
    gap: 18.3px;
  }
  .picker {
    width: 100%;
    max-width: 329px;
    min-width: 220px;
    margin-top: 2px;
    margin-bottom: 32.9px;
  }
  .pickerLabel {
    margin-bottom: 18px;
  }
  .pickerNumber {
    .pickerValues {
      /* fiksne širine elemenata + jednak gap → centar miruje */
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      height: 26px;
      width: 253px;      /* po potrebi prilagodi */
    }

    .pickerValue {
      font-variant-numeric: tabular-nums; /* spriječi skokove širina 1↔8 */
      line-height: 26px;
      text-align: center;
      white-space: nowrap;
    }

    /* fiksne širine po ulogama */
    .sideOuter  { flex: 0 0 29px; font-size: 18px; font-weight: 600; opacity: .2; color: #000; }
    .sideInner  { flex: 0 0 40px; font-size: 25px; font-weight: 600; opacity: .4; color: #000; }
    .selected   { flex: 0 0 60px; font-size: 36px; font-weight: 600; color: #000; }
  }

  .pickerAge {
    .pickerValues {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      align-items: center;
      height: 26px;
      width: 100%;
      max-width: 242px;
    }

    .pickerValue {
      font-size: 16px;
      line-height: 26px;
      min-width: max(56px, 6ch);
      text-align: center;
      white-space: nowrap;
    }
    .sideOuter  { flex: 0 0 29px; font-size: 18px; font-weight: 600; opacity: .2; color: #000; }
    .side:first-of-type { justify-self: start; text-align: center; }
    .side:last-of-type  { justify-self: end;   text-align: center; }

    .side {
      color: #000;
      font-size: 20px;
      font-weight: 600;
      opacity: 0.4;
      min-width: 61px;
      line-height: 26px; /* poravnaj vertikalno s trakom */
    }

    .selected {
      font-size: 32px;
      font-weight: 600;
      line-height: 26px;
      justify-self: center;
      min-width: 90px;
      height: 26px;
      color: #000;
    }
  }
  .pickerNumber:last-of-type {
    margin-bottom: 32.9px;
  }
  .pickerControl {
    display: grid;
    grid-template-columns: 20px minmax(0, 1fr) 20px;
    align-items: center;
    width: 100%;
    max-width: 329px;
    margin-inline: auto;
    padding: 0;
  }
  .howText {
    margin-bottom: 20px;
  }
  .actionsGrid {
    width: min(100%, 292.5px);
    margin-inline: auto;
  }
  .scanButton, .quickButton {
    width: 100%;
    min-width: 292.5px;
    height: 45.7px;
  }
  .scanDesc, .quickDesc {
    margin-bottom: 16.6px;
    margin-top: 13.8px;
    width: 100%;
    max-width: 320px;
    height: 30px;
    line-height: 100%;
    font-size: 10px;
  }
  .backButtonAvatarinfo {
    width: 100%;
    max-width: 292.5px;
    height: 45.7px;
  }
}

@media (max-width: 320px) {
  .howText {
    font-size: 15px;
  }
  .pickerAge {
    .pickerValues {
      max-width: 220px;
    }
    .side {
      font-size: 18px;
    }
    .selected {
      font-size: 28px;
    }
  }
  .pickerNumber {
    .pickerValues {
      max-width: 220px;
    }
    .pickerValues { gap: 8px; margin: 0 10px; }
    .selected { font-size: 26px; }
    .sideOuter  { flex: 0 0 29px; font-size: 16px; font-weight: 600; opacity: .2; color: #000; }
    .sideInner  { flex: 0 0 40px; font-size: 24px; font-weight: 600; opacity: .4; color: #000; }
  }
}

@include s.respond(laptop-lg) {
  .pickersGroup {
    width: min(100%, 490px);
    margin-inline: auto;
  }
  .picker {
    max-width: none;
    width: 100%;
    margin-bottom: 60px;
  }
  .pickerControl {
    width: 490px;
    max-width: 100%;
    margin-inline: auto;
  }
  .webPanel {
    max-width: 790px;
    width: 100%;
    margin-inline: auto;
  }
  .howText {
    font-size: 19px;
    font-weight: 300;
    width: 420px;
    margin-top: 30px;
    margin-bottom: 20px;
  }
}

/* Desktop pojačanje */
@include s.respond(tablet-xxl) {
  .pickerValues {
    position: relative;
    height: 31px;
    width: calc(100% - 40px);  /* 490 - 20 - 20 */
    margin: 0 20px;            /* osiguraj da kreće odmah do strelica */
    display: flex;
    align-items: center;
    justify-content: center;   /* centar miruje */
    gap: 12px;
  }
  .pickerAge .pickerValues {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    column-gap: 25px;          /* simetričan razmak s obje strane */
    align-items: center;
  }
  .pickerAge .selected { font-size: 35px; font-weight: 600; line-height: 31px; }
  .pickerAge .side     { font-size: 20px; font-weight: 600; line-height: 31px; opacity: .4; }

  .pickerNumber .pickerValues { gap: 14px; }
  .pickerNumber .selected   { flex: 0 0 110px; font-size: 40px; line-height: 31px; }
  .pickerNumber .sideInner  { flex: 0 0 44px;  font-size: 25px; line-height: 31px; opacity: .4; }
  .pickerNumber .sideOuter  { flex: 0 0 32px;  font-size: 18px; line-height: 31px; opacity: .2; }

  .avatarNameInput {
    width: 100%;
    max-width: 421px;
    height: 40px;
  }
  .genderChoice {
    width: 100%;
    max-width: 421px;
    height: 40px;
  }
  .formSection {
    margin-top: 31px;
    margin-bottom: 75px;
  }
  .webPanel {
    max-width: 790px;     /* okvir panela */
    width: 100%;
    margin-inline: auto;
  }
  .scanButton, .quickButton {
  width: 100%;
  min-width: 350px;
  height: 50px;
  font-size: 20px;
  font-weight: 400;
  }
  .backButtonAvatarinfo {
  width: 100%;
  min-width: 320px;
  height: 50px;
  }
  .actionsGrid {
    width: min(100%, 720px);
    margin-inline: auto;
    display: flex;
    justify-content: space-between;
    align-items: start;
    height: 168px;
  }
  .action {
    /* zadrži vertikalni stack (gumb pa opis) u svakoj “kartici” */
    align-items: center;
  }
    .pickersGroup {
      width: min(100%, 490px);         /* traženo */
      margin-inline: auto;  /* centriraj */
    }
  .picker {
    max-width: none;      /* skini mobilni limit 360px */
    width: 100%;
    margin-bottom: 32px;  /* malo veći razmak na webu (po želji) */
  }
  .pickerControl {
    position: relative;
    width: 490px;              /* tvoja desktop širina */
    margin-inline: 0;
    display: block;            /* makni grid samo na desktopu */
    height: 31px;              /* visina trake/strelica */
  }
  .arrowButton {
    position: absolute;
    top: 0;
    width: 20px;
    height: 31px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .arrowButton:first-of-type { left: 0; }
  .arrowButton:last-of-type  { right: 0; }
  .arrowButton img {
    width: 20px;          /* da ikona ne “pliva” previše */
    height: 30.55px;
  }
  .pickerLabel {
    font-size: 20px;
  }
  .howText {
    font-size: 20px;
    font-weight: 300;
    width: 420px;
    margin-top: 30px;
    margin-bottom: 20px;
  }
  .genderButton {
    font-size: 20px;
    font-weight: 400;
  }

  .genderButtonSelected {
    font-size: 20px;
    font-weight: 400;
  }
  .scanDesc, .quickDesc {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    font-size: 15px;
    font-weight: 300;
    margin-top: 16px;
    height: 38px;
    min-width: 350px;
  }
  .backButtonAvatarinfo {
    margin-top: 20px;
  }
  /* AGE (prvi) – točno 366px i bez praznih rubova */
  .pickersGroup .picker:nth-of-type(1) .pickerValues {
    width: 366px;
    max-width: 366px;
    margin: 0;
  }
  /* Grid varijanta: tri kolone sadržaja, razmak samo između (bez unutarnjih lijevo/desno) */
  .pickersGroup .picker:nth-of-type(1).pickerAge .pickerValues {
    grid-template-columns: auto auto auto;
    justify-content: space-between;
  }
  .pickersGroup .picker:nth-of-type(2) .pickerValues,
  .pickersGroup .picker:nth-of-type(3) .pickerValues {
    width: 377px;
    max-width: 377px;
    margin: 0;
    /* Flex varijanta: razmak samo između stavki, bez praznih rubova */
    justify-content: space-between;
  }
}

@media (min-width: 1024px) {
  .avatarInfoPage {
    width: 100vw;
    margin-left: calc(50% - 50vw);
  }
  .pickersGroup {
    height: 312px;
  }
  .pickerNumber:last-of-type {
    margin-bottom: 0;
  }

  /* Centriraj .pickerValues horizontalno i vertikalno unutar .pickerControl,
     strelice pozicioniraj apsolutno lijevo/desno (bez preklapanja) */
  .pickerControl {
    position: relative;
    width: 490px;
    max-width: 100%;
    margin-inline: auto;
    height: 31px;
    display: block;
  }
  .pickerControl .pickerValues {
    position: relative;
    height: 31px;
    width: calc(100% - 40px);
    margin: 0 20px;
    display: flex;
    align-items: center;      /* vertikalno centriraj track */
    justify-content: center;  /* horizontalno centriraj track */
  }
  .pickerControl .arrowButton {
    position: absolute;
    top: 0;
    width: 20px;
    height: 31px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .pickerControl .arrowButton:first-of-type { left: 0; }
  .pickerControl .arrowButton:last-of-type  { right: 0; }
}

/* Desktop: širina tracka samo za 2. i 3. picker (Height, Weight) */
@media (min-width: 1440px) {
  .canvas {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .howText {
    margin-top: 104px;
    font-size: 20px;
    max-width: 490px;
  }
  .backButtonAvatarinfo {
    margin: 0;
  }
}

